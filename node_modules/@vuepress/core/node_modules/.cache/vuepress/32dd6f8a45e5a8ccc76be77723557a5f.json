{"remainingRequest":"/Users/onlyone/open-github/technology-talk/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/onlyone/open-github/technology-talk/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/onlyone/open-github/technology-talk/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/onlyone/open-github/technology-talk/docs/.vuepress/components/PayArticle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/onlyone/open-github/technology-talk/docs/.vuepress/components/PayArticle.vue","mtime":1676857798581},{"path":"/Users/onlyone/open-github/technology-talk/node_modules/cache-loader/dist/cjs.js","mtime":1676962415098},{"path":"/Users/onlyone/open-github/technology-talk/node_modules/babel-loader/lib/index.js","mtime":1676962415297},{"path":"/Users/onlyone/open-github/technology-talk/node_modules/cache-loader/dist/cjs.js","mtime":1676962415098},{"path":"/Users/onlyone/open-github/technology-talk/node_modules/vue-loader/lib/index.js","mtime":1676962415466}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQYXlBcnRpY2xlJywKICBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgLy8g5bu26L+f5omn6KGMCiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgaWYgKHRoaXMuaXNQYXkoKSkgewogICAgICAgIGxldCAkYXJ0aWNsZSA9IHRoaXMuYXJ0aWNsZU9iaigpOwogICAgICAgIHRoaXMuX2RldGVjdCgkYXJ0aWNsZSwgdGhpcyk7CiAgICAgIH0KICAgIH0sIDE1MCk7CgogICAgLy8g5a6a5pe25Lu75YqhCiAgICBsZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIGlmICh0aGlzLmlzUGF5KCkpIHsKICAgICAgICBsZXQgJGFydGljbGUgPSB0aGlzLmFydGljbGVPYmooKTsKICAgICAgICAvLyBpZiAoJGFydGljbGUgJiYgJGFydGljbGUuYXJ0aWNsZS5oYXNDbGFzcygibG9jay1wYXkiKSl7CiAgICAgICAgLy8gICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgICAgIC8vIH0KICAgICAgICB0aGlzLl9kZXRlY3QoJGFydGljbGUsIHRoaXMpOwogICAgICB9CiAgICB9LCAxMDAwKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGlzUGF5KCkgewogICAgICByZXR1cm4gdGhpcy4kcGFnZS5mcm9udG1hdHRlci5wYXk7CiAgICB9LAogICAgYXJ0aWNsZU9iajogZnVuY3Rpb24gKCkgewogICAgICBsZXQgJGFydGljbGUgPSAkKCcudGhlbWUtZGVmYXVsdC1jb250ZW50Jyk7CiAgICAgIGlmICgkYXJ0aWNsZS5sZW5ndGggPD0gMCkgcmV0dXJuIG51bGw7CgogICAgICAvLyDmlofnq6DnmoTlrp7pmYXpq5jluqYKICAgICAgbGV0IGhlaWdodCA9ICRhcnRpY2xlWzBdLmNsaWVudEhlaWdodDsKICAgICAgcmV0dXJuIHsKICAgICAgICBhcnRpY2xlOiAkYXJ0aWNsZSwKICAgICAgICBoZWlnaHQ6IGhlaWdodAogICAgICB9OwogICAgfSwKICAgIF9kZXRlY3Q6IGZ1bmN0aW9uIChhcnRpY2xlT2JqLCB0KSB7CiAgICAgIGlmIChudWxsID09IGFydGljbGVPYmopIHJldHVybjsKICAgICAgbGV0ICRhcnRpY2xlID0gYXJ0aWNsZU9iai5hcnRpY2xlOwogICAgICBsZXQgaGVpZ2h0ID0gYXJ0aWNsZU9iai5oZWlnaHQ7CiAgICAgIGlmICgkYXJ0aWNsZS5sZW5ndGggPD0gMCkgcmV0dXJuOwoKICAgICAgLy8g5paH56ug6ZqQ6JeP5ZCO55qE6auY5bqmCiAgICAgIGxldCBoYWxmSGVpZ2h0ID0gaGVpZ2h0ICogMC45OwoKICAgICAgLy8g5Yik5pat5piv5ZCm5bey5Yqg6ZSBCiAgICAgIGlmICgkYXJ0aWNsZS5oYXNDbGFzcygibG9jay1wYXkiKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g6K6+572u5paH56ug5Y+v5pi+56S66auY5bqmCiAgICAgICRhcnRpY2xlLmNzcyh7CiAgICAgICAgImhlaWdodCI6IGhhbGZIZWlnaHQgKyAncHgnCiAgICAgIH0pOwogICAgICAkYXJ0aWNsZS5hZGRDbGFzcygnbG9jay1wYXknKTsKCiAgICAgIC8vIOWIoOmZpOWOn+acieagh+etvgogICAgICAkYXJ0aWNsZS5yZW1vdmUoIiNwYXktcmVhZC1tb3JlLXdyYXAiKTsKCiAgICAgIC8vIOa3u+WKoOWKoOmUgeagh+etvgogICAgICBsZXQgY2xvbmUgPSAkKCcucGF5LXJlYWQtbW9yZS13cmFwJykuY2xvbmUoKTsKICAgICAgY2xvbmUuYXR0cignaWQnLCAncGF5LXJlYWQtbW9yZS13cmFwJyk7CiAgICAgIGNsb25lLmNzcygnZGlzcGxheScsICdibG9jaycpOwoKICAgICAgLy8g5oyJ6ZKu6Lez6L2s5LuY6LS5CiAgICAgIGNsb25lLmZpbmQoIiNwYXktcmVhZC1tb3JlLWJ0biIpLmF0dHIoImhyZWYiLCB0aGlzLiRwYWdlLmZyb250bWF0dGVyLnBheSk7CiAgICAgICRhcnRpY2xlLmFwcGVuZChjbG9uZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["name","data","mounted","setTimeout","isPay","$article","articleObj","_detect","interval","setInterval","methods","$page","frontmatter","pay","$","length","height","clientHeight","article","t","halfHeight","hasClass","css","addClass","remove","clone","attr","find","append"],"sources":["/Users/onlyone/open-github/technology-talk/docs/.vuepress/components/PayArticle.vue"],"sourcesContent":["\n    export default {\n        name: 'PayArticle',\n        data() {\n            return {}\n        },\n        mounted: function () {\n\n            // 延迟执行\n            setTimeout(() => {\n                if (this.isPay()) {\n                    let $article = this.articleObj();\n                    this._detect($article, this);\n                }\n            }, 150);\n\n            // 定时任务\n            let interval = setInterval(() => {\n                if (this.isPay()) {\n                    let $article = this.articleObj();\n                    // if ($article && $article.article.hasClass(\"lock-pay\")){\n                    //     clearInterval(interval);\n                    // }\n                    this._detect($article, this);\n                }\n            }, 1000);\n        },\n        methods: {\n            isPay() {\n                return this.$page.frontmatter.pay;\n            },\n            articleObj: function () {\n                let $article = $('.theme-default-content');\n                if ($article.length <= 0) return null;\n\n                // 文章的实际高度\n                let height = $article[0].clientHeight;\n\n                return {\n                    article: $article,\n                    height: height\n                }\n            },\n            _detect: function (articleObj, t) {\n                if (null == articleObj) return;\n\n                let $article = articleObj.article;\n                let height = articleObj.height;\n                if ($article.length <= 0) return;\n\n                // 文章隐藏后的高度\n                let halfHeight = height * 0.9;\n\n                // 判断是否已加锁\n                if ($article.hasClass(\"lock-pay\")) {\n                    return;\n                }\n\n                // 设置文章可显示高度\n                $article.css({\"height\": halfHeight + 'px'});\n                $article.addClass('lock-pay');\n\n                // 删除原有标签\n                $article.remove(\"#pay-read-more-wrap\");\n\n                // 添加加锁标签\n                let clone = $('.pay-read-more-wrap').clone();\n                clone.attr('id', 'pay-read-more-wrap');\n                clone.css('display', 'block');\n\n                // 按钮跳转付费\n                clone.find(\"#pay-read-more-btn\").attr(\"href\", this.$page.frontmatter.pay);\n\n                $article.append(clone);\n            }\n        }\n    }\n"],"mappings":"AACI,eAAe;EACXA,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACH,OAAO,CAAC,CAAC;EACb,CAAC;EACDC,OAAO,EAAE,SAAAA,CAAA,EAAY;IAEjB;IACAC,UAAU,CAAC,MAAM;MACb,IAAI,IAAI,CAACC,KAAK,EAAE,EAAE;QACd,IAAIC,QAAQ,GAAG,IAAI,CAACC,UAAU,EAAE;QAChC,IAAI,CAACC,OAAO,CAACF,QAAQ,EAAE,IAAI,CAAC;MAChC;IACJ,CAAC,EAAE,GAAG,CAAC;;IAEP;IACA,IAAIG,QAAQ,GAAGC,WAAW,CAAC,MAAM;MAC7B,IAAI,IAAI,CAACL,KAAK,EAAE,EAAE;QACd,IAAIC,QAAQ,GAAG,IAAI,CAACC,UAAU,EAAE;QAChC;QACA;QACA;QACA,IAAI,CAACC,OAAO,CAACF,QAAQ,EAAE,IAAI,CAAC;MAChC;IACJ,CAAC,EAAE,IAAI,CAAC;EACZ,CAAC;EACDK,OAAO,EAAE;IACLN,KAAKA,CAAA,EAAG;MACJ,OAAO,IAAI,CAACO,KAAK,CAACC,WAAW,CAACC,GAAG;IACrC,CAAC;IACDP,UAAU,EAAE,SAAAA,CAAA,EAAY;MACpB,IAAID,QAAQ,GAAGS,CAAC,CAAC,wBAAwB,CAAC;MAC1C,IAAIT,QAAQ,CAACU,MAAM,IAAI,CAAC,EAAE,OAAO,IAAI;;MAErC;MACA,IAAIC,MAAM,GAAGX,QAAQ,CAAC,CAAC,CAAC,CAACY,YAAY;MAErC,OAAO;QACHC,OAAO,EAAEb,QAAQ;QACjBW,MAAM,EAAEA;MACZ,CAAC;IACL,CAAC;IACDT,OAAO,EAAE,SAAAA,CAAUD,UAAU,EAAEa,CAAC,EAAE;MAC9B,IAAI,IAAI,IAAIb,UAAU,EAAE;MAExB,IAAID,QAAQ,GAAGC,UAAU,CAACY,OAAO;MACjC,IAAIF,MAAM,GAAGV,UAAU,CAACU,MAAM;MAC9B,IAAIX,QAAQ,CAACU,MAAM,IAAI,CAAC,EAAE;;MAE1B;MACA,IAAIK,UAAU,GAAGJ,MAAM,GAAG,GAAG;;MAE7B;MACA,IAAIX,QAAQ,CAACgB,QAAQ,CAAC,UAAU,CAAC,EAAE;QAC/B;MACJ;;MAEA;MACAhB,QAAQ,CAACiB,GAAG,CAAC;QAAC,QAAQ,EAAEF,UAAU,GAAG;MAAI,CAAC,CAAC;MAC3Cf,QAAQ,CAACkB,QAAQ,CAAC,UAAU,CAAC;;MAE7B;MACAlB,QAAQ,CAACmB,MAAM,CAAC,qBAAqB,CAAC;;MAEtC;MACA,IAAIC,KAAK,GAAGX,CAAC,CAAC,qBAAqB,CAAC,CAACW,KAAK,EAAE;MAC5CA,KAAK,CAACC,IAAI,CAAC,IAAI,EAAE,oBAAoB,CAAC;MACtCD,KAAK,CAACH,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC;;MAE7B;MACAG,KAAK,CAACE,IAAI,CAAC,oBAAoB,CAAC,CAACD,IAAI,CAAC,MAAM,EAAE,IAAI,CAACf,KAAK,CAACC,WAAW,CAACC,GAAG,CAAC;MAEzER,QAAQ,CAACuB,MAAM,CAACH,KAAK,CAAC;IAC1B;EACJ;AACJ,CAAC"}]}